<!-- index.html -->
<!DOCTYPE html>
<html>
  <head>
    <title>ScienceOps v2</title>
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro|Open+Sans' rel='stylesheet prefetch' type='text/css'>
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="/js/lib/react-0.13.3.js"></script>
    <script src="/js/lib/jquery-2.1.3.min.js"></script>
    <script src="/js/lib/bootstrap.min.js"></script>
    <style>
      html,
      body {
        height: 100%;
        background-color: #338ac7;
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-4 col-sm-offset-4 text-center" style="padding-top: 50px;">
          <img alt="Brand" src="/img/logo-scienceops-with-text-white-bkg-clear.png" height="90px" style="padding-bottom: 20px;"/>
          <div class="panel panel-default">
            <div class="panel-body">
              <form id="loginForm" style="padding: 20px;">
                <p class="lead text-primary">Register User</p>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-user"></i></div>
                    <input type="text" name="username" id="inputEmail" class="form-control" placeholder="username" required= autofocus="">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-key"></i></div>
                    <input type="password" name="password" id="inputPassword" class="form-control" placeholder="password" required autofocus="">
                  </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-addon"><i class="fa fa-envelope"></i></div>
                    <input type="email" name="email" id="inputEmail" class="form-control" placeholder="email" required autofocus="">
                  </div>
                </div>
                <button class="btn btn-lg btn-orange btn-block" type="submit">Register</button>
              </form>
            </div>
          </div>
          <div id="errorMsg" class="alert alert-danger" role="alert" hidden></div>
        </div>
      </div>
    </div>
    <script type="text/javascript">
      $("#loginForm").submit(function(e){
          e.preventDefault();
          var payload = $(this).serialize();
          var success = function() { window.location.href = "/"; }
          var error = function(xhr, ops, err) {
              $("#errorMsg").text(xhr.responseText);
              $("#errorMsg").show();
          }
          $.ajax({
              type:"POST",
              url: "/register",
              data: payload,
              success: success,
              error: error
          });
          return false;
      });
    </script>
  </body>
</html>
